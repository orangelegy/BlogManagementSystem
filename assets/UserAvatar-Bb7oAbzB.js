import{_ as E}from"./PageContainer-CAew3RBH.js";import{ac as U,r as p,o as l,j as h,k as a,K as o,g as u,h as i,aa as d,bE as y,aO as S,aL as x,bF as B,an as C,ao as R,U as b}from"./index-RpjzAqvV.js";import{E as A,a as F}from"./el-col-BKjSKCxJ.js";import{_ as I,E as N}from"./_plugin-vue_export-helper-BN3ahJT3.js";import{E as V}from"./el-progress-BrdAUrOI.js";import"./el-message-CyBK-AcX.js";import"./isEqual-BmhHDQ0d.js";const j="/assets/avatar-CQlNaQTu.jpg",z=t=>(C("data-v-070a628d"),t=t(),R(),t),L=["src"],Q={key:1,src:j,width:"278"},T=z(()=>b("br",null,null,-1)),$={__name:"UserAvatar",setup(t){const r=U(),c=p(),s=p(r.user.user_pic),m=n=>{const e=new FileReader;e.readAsDataURL(n.raw),e.onload=()=>{s.value=e.result}},f=async()=>{await y(s.value),await r.getUser(),S.success("更新成功")};return(n,e)=>{const v=V,_=N,g=A,k=F,w=E;return l(),h(w,{title:"更换头像"},{default:a(()=>[o(k,null,{default:a(()=>[o(g,{span:12},{default:a(()=>[o(v,{ref_key:"uploadRef",ref:c,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":m},{default:a(()=>[s.value?(l(),u("img",{key:0,src:s.value,class:"avatar"},null,8,L)):(l(),u("img",Q))]),_:1},512),T,o(_,{onClick:e[0]||(e[0]=q=>c.value.$el.querySelector("input").click()),type:"primary",icon:i(x),size:"large"},{default:a(()=>[d("选择图片")]),_:1},8,["icon"]),o(_,{onClick:f,type:"success",icon:i(B),size:"large"},{default:a(()=>[d(" 上传头像 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},P=I($,[["__scopeId","data-v-070a628d"]]);export{P as default};
