import{ac as v,r as n,o as V,j as k,k as l,K as e,aa as E,bD as U,aO as x}from"./index-RpjzAqvV.js";import{E as y,a as w}from"./el-form-item-BR5fkg98.js";import{E as B}from"./_plugin-vue_export-helper-BN3ahJT3.js";import"./el-input-Bt3hWCk1.js";import{_ as F}from"./PageContainer-CAew3RBH.js";import"./el-message-CyBK-AcX.js";import{E as I}from"./index-Bjb3HdCj.js";const P={__name:"UserProfile",setup(q){const{user:{email:s,id:i,nickname:d,username:p},getUser:_}=v(),a=n({id:i,username:p,nickname:d,email:s}),f={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:["blur","change"]}]},u=n(null),c=async()=>{await u.value.validate(),await U(a.value),_(),x.success("修改成")};return(C,t)=>{const m=I,r=y,g=B,b=w;return V(),k(F,{title:"基本资料"},{default:l(()=>[e(b,{ref_key:"form",ref:u,model:a.value,rules:f,"label-width":"120px",style:{width:"60%"}},{default:l(()=>[e(r,{label:"登录名称"},{default:l(()=>[e(m,{modelValue:a.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>a.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:l(()=>[e(m,{modelValue:a.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:l(()=>[e(m,{modelValue:a.value.email,"onUpdate:modelValue":t[2]||(t[2]=o=>a.value.email=o)},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(g,{type:"primary",onClick:c},{default:l(()=>[E("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{P as default};
